{
    "constants": {
        "hw__ncpu": {"sysctl": "hw.ncpu"}
    },
    "variables": {
        "vm__loadavg": {"sysctl": "vm.loadavg"}
    },
    "incidents": {
        "loadavg": {
            "description": "Above 80% of CPUs are in use over 1 min",
            "warn": {
                "trigger": "{vm__loadavg[1]} > ( 0.8 * {hw__ncpu} )",
                "untrigger": "{vm__loadavg[1]} < ( 0.6 * {hw__ncpu} )",
                "escalation": "logger 'Over 80% of CPUs are in used for 1 min}'"
            }
        }
    }
}
